/* ---------- Color System (Purple Focus) ---------- */
:root{
    /* Light Mode Colors */
    --bg: #ffffff;
    --bg-soft: #f7f7ff; /* Very light purple/gray */
    --text: #1e1e3f; /* Dark purple text */
    --muted: #6b7280; /* Gray for subtle text */
    --card: #ffffff;
    --primary: #8b5cf6; /* Main Purple (Indigo/Violet) */
    --primary-contrast: #ffffff;
    --shadow: 0 6px 20px rgba(0,0,0,.08);
}

:root.dark-mode{
    /* Dark Mode Colors */
    --bg: #14112b; /* Deep background */
    --bg-soft: #0c0a1f; /* Even darker background for separation */
    --text: #f0f8ff; /* Near-white text */
    --muted: #a78bfa; /* Lighter purple/gray for subtle text */
    --card: #1f1a38; /* Card surfaces */
    --primary: #a78bfa; /* Brighter Purple */
    --primary-contrast: #14112b;
    --shadow: 0 8px 24px rgba(0,0,0,.35);
}

/* Base Styles */
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
    font-family: system-ui, -apple-system, Segoe UI, Inter, Arial, sans-serif;
    color:var(--text);
    line-height:1.6;
    /* خلفية متدرجة بنفسجي/أبيض */
    background: linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 100%);
}

/* ---------- Header ---------- */
.site-header{
    position:sticky; top:0; z-index:10;
    background:rgba(255,255,255,.85);
    backdrop-filter: saturate(180%) blur(10px);
    border-bottom:1px solid rgba(0,0,0,.06);
    display:flex; align-items:center; justify-content:space-between;
    padding:12px 18px;
}
:root.dark-mode .site-header{
    background:rgba(20, 17, 43,.85); /* Dark background opacity */
    border-bottom:1px solid rgba(255,255,255,.08);
}
.logo{font-weight:800; text-decoration:none; color:var(--text)}
.logo span{color:var(--primary)}
.nav{display:flex; gap:12px; align-items:center}
.nav a{color:var(--text); text-decoration:none; opacity:.9}
.nav a:hover{opacity:1; text-decoration:underline}
#themeToggle{
    padding:6px 10px; border-radius:10px; border:1px solid rgba(0,0,0,.08);
    background:var(--card); cursor:pointer;
}
.user-chip{
    padding:6px 10px; border-radius:999px; background:var(--bg-soft);
    color:var(--text); font-weight:700;
}

/* ---------- Banner ---------- */
.banner{
    display:flex; gap:12px; align-items:center; justify-content:center;
    padding:16px; background:var(--bg-soft);
}
.btn{
    display:inline-block; padding:10px 14px; border-radius:12px;
    background:var(--primary); color:var(--primary-contrast);
    border:none; cursor:pointer; font-weight:700; box-shadow:var(--shadow);
}
.btn.small{padding:6px 10px; font-weight:600}
.btn:hover{filter:brightness(1.1)} /* Brighten for purple hover */

/* ---------- Sections ---------- */
.container{max-width:1000px; margin:auto; padding:0 16px}
.section{padding:48px 0}
h2{font-size:clamp(22px,3vw,32px); margin-bottom:16px}
.muted{color:var(--muted)}
.error{color:#ef4444}
.hidden{display:none}

/* ---------- Cards / Quote / Spinner ---------- */
.card{background:var(--card); border-radius:12px; padding:16px; box-shadow:var(--shadow); margin-top:14px}
.linklike{background:none; border:none; color:var(--primary); text-decoration:underline; cursor:pointer}
/* Spinner */
.spinner-container{
    display:flex; gap:8px; align-items:center; justify-content:center;
    padding:20px; color:var(--muted); font-weight:600;
}
.spinner{
    width:18px; height:18px; border-radius:50%;
    border:3px solid rgba(0,0,0,.15); border-top-color:var(--primary);
    animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px;
}
:root.dark-mode .spinner{
    border-color:rgba(255,255,255,.15);
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ---------- Projects & GitHub Cards ---------- */
.controls{display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; margin-bottom:14px}
.filters{display:flex; gap:8px; flex-wrap:wrap}
.chip{
    padding:6px 10px; border-radius:999px; border:1px solid rgba(0,0,0,.12);
    background:var(--bg); cursor:pointer;
}
:root.dark-mode .chip{
    border:1px solid rgba(255,255,255,.12);
}
.chip.active{background:var(--primary); color:var(--primary-contrast); border-color:transparent}
.search-sort{display:flex; gap:8px; align-items:center}
.search-sort input, .search-sort select{
    padding:8px 10px; border:1px solid rgba(0,0,0,.12); border-radius:10px; background:var(--bg); color:var(--text)
}
:root.dark-mode .search-sort input, :root.dark-mode .search-sort select{
    border:1px solid rgba(255,255,255,.12);
}
.projects-grid{
    display:grid; gap:14px;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}
.project-card{
    background:var(--card); border-radius:14px; overflow:hidden; box-shadow:var(--shadow);
    transform:translateY(4px); opacity:.98; transition:transform .2s ease, opacity .2s ease;
}
.project-card:hover{transform:translateY(0); opacity:1}
.project-card img{width:100%; height:160px; object-fit:cover; display:block}
.project-body{padding:12px 14px}
.project-body h3{margin:0 0 6px}
.project-meta{font-size:12px; color:var(--muted); margin-bottom:8px}
details summary{cursor:pointer; font-weight:600; margin:6px 0}
/* For GitHub cards which might not have an image */
#github .project-card img {
    height: 0;
    padding: 0;
    opacity: 0;
}
#github .project-card .project-body {
    padding-top: 20px;
    padding-bottom: 20px;
}

/* ---------- Form Validation Styles ---------- */
form{display:grid; gap:12px; max-width:560px; margin:auto}
label{display:grid; gap:6px; font-weight:600}
input, textarea{
    width:100%; border:1px solid rgba(0,0,0,.15);
    background:var(--bg); color:var(--text);
    border-radius:10px; padding:12px;
    transition:border-color .15s ease, box-shadow .15s ease;
}
:root.dark-mode input, :root.dark-mode textarea{
    border:1px solid rgba(255,255,255,.15);
}
input:focus, textarea:focus{outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgba(139, 92, 246, .4)} /* Purple focus glow */

/* Style for input errors */
input.error-input, textarea.error-input{
    border-color:#ef4444 !important;
    box-shadow:0 0 0 3px rgba(239, 68, 68, .2) !important;
}
.field-error{min-height:18px; font-size:12px; color:#ef4444}
.status{min-height:24px; margin-top:4px}

/* ---------- Back to Top ---------- */
#backToTop{
    display:none; position:fixed; right:16px; bottom:16px; z-index:99;
    width:44px; height:44px; border-radius:50%; border:none;
    background:var(--primary); color:var(--primary-contrast); font-size:18px; cursor:pointer; box-shadow:var(--shadow);
}
#backToTop:hover{filter:brightness(1.1)}

/* ---------- Gate (first-visit name prompt) ---------- */
.gate{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background: linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 100%);
    z-index:9999;
}
.gate.show{display:flex}
.gate-card{
    background:var(--card); padding:22px; border-radius:16px; box-shadow:var(--shadow);
    width:min(92%, 420px); display:grid; gap:12px; text-align:center;
}
.gate-card input{
    padding:12px; border-radius:10px; border:1px solid rgba(0,0,0,.12);
}
/* ---------- Utilities ---------- */
.fade-in{animation:fade .6s ease both}
@keyframes fade{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}

